Alfresco.WebPreview.prototype.Plugins.Image=function(b,a){this.wp=b;this.attributes=YAHOO.lang.merge(Alfresco.util.deepCopy(this.attributes),a);return this};Alfresco.WebPreview.prototype.Plugins.Image.prototype={attributes:{src:null,srcMaxSize:"500000"},report:function Image_report(){},display:function Image_display(){var c=this.attributes.srcMaxSize;if(!this.attributes.src&&c.match(/^\d+$/)&&this.wp.options.size>parseInt(c)){var b="";b+=this.wp.msg("Image.tooLargeFile",this.wp.options.name,Alfresco.util.formatFileSize(this.wp.options.size));b+="<br/>";b+='<a class="theme-color-1" href="'+this.wp.getContentUrl(true)+'">';b+=this.wp.msg("Image.downloadLargeFile");b+="</a>";b+="<br/>";b+='<a style="cursor: pointer;" class="theme-color-1" onclick="javascript: this.parentNode.parentNode.innerHTML = \'<img src='+this.wp.getContentUrl(false)+">';\">";b+=this.wp.msg("Image.viewLargeFile");b+="</a>";return'<div class="message">'+b+"</div>"}else{var a=this.attributes.src?this.wp.getThumbnailUrl(this.attributes.src):this.wp.getContentUrl();return'<img src="'+a+'" alt="'+this.wp.options.name+'" title="'+this.wp.options.name+'"/>'}}};