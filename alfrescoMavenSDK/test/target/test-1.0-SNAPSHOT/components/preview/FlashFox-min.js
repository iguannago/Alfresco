Alfresco.WebPreview.prototype.Plugins.FlashFox=function(b,a){this.wp=b;this.attributes=YAHOO.lang.merge(Alfresco.util.deepCopy(this.attributes),a);this.swfDiv=null;return this};Alfresco.WebPreview.prototype.Plugins.FlashFox.prototype={attributes:{src:null,poster:null,posterFileSuffix:null,controls:"true"},report:function FlashFox_report(){if(!Alfresco.util.hasRequiredFlashPlayer(9,0,124)){return this.wp.msg("label.noFlash")}},display:function FlashFox_display(){var a=this.resolveUrls();var b="FlashFox_"+this.wp.id;var c=new YAHOO.deconcept.SWFObject(Alfresco.constants.URL_CONTEXT+"components/preview/flashfox.swf",b,"100%","100%","9.0.45");c.addVariable("src",a.src);if(a.poster){c.addVariable("poster",a.poster)}c.addVariable("controls",this.attributes.controls);c.addParam("allowScriptAccess","sameDomain");c.addParam("allowFullScreen","true");c.addParam("wmode","transparent");c.write(this.wp.widgets.previewerElement.id)},resolveUrls:function FlashFox_resolveUrls(){var a={src:this.attributes.src?this.wp.getThumbnailUrl(this.attributes.src):this.wp.getContentUrl()};if(this.attributes.poster&&this.attributes.poster.length>0&&this.attributes.posterFileSuffix){a.poster=this.wp.getThumbnailUrl(this.attributes.poster,this.attributes.posterFileSuffix)}return a}};