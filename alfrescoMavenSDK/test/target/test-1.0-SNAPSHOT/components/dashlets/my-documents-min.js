(function(){var e=YAHOO.util.Dom,i=YAHOO.util.Event,a=YAHOO.util.Selector;var b="org.alfresco.share.mydocuments.dashlet";PREFERENCES_MYDOCUMENTS_DASHLET_FILTER=b+".filter",PREFERENCES_MYDOCUMENTS_DASHLET_VIEW=b+".simpleView";Alfresco.dashlet.MyDocuments=function h(j){return Alfresco.dashlet.MyDocuments.superclass.constructor.call(this,j)};YAHOO.extend(Alfresco.dashlet.MyDocuments,Alfresco.component.SimpleDocList,{onReady:function f(){this.widgets.filter=Alfresco.util.createYUIButton(this,"filters",this.onFilterChange,{type:"menu",menu:"filters-menu",lazyloadmenu:false});var j=this.options.filter;j=Alfresco.util.arrayContains(this.options.validFilters,j)?j:this.options.validFilters[0];this.widgets.filter.set("label",this.msg("filter."+j));this.widgets.filter.value=j;this.widgets.simpleDetailed=new YAHOO.widget.ButtonGroup(this.id+"-simpleDetailed");if(this.widgets.simpleDetailed!==null){this.widgets.simpleDetailed.check(this.options.simpleView?0:1);this.widgets.simpleDetailed.on("checkedButtonChange",this.onSimpleDetailed,this.widgets.simpleDetailed,this)}e.removeClass(a.query(".toolbar div",this.id,true),"hidden");Alfresco.dashlet.MyDocuments.superclass.onReady.apply(this,arguments)},getParameters:function d(){return"filter="+this.widgets.filter.value},onFilterChange:function c(k,j){var l=j[1];if(l){this.widgets.filter.set("label",l.cfg.getProperty("text"));this.widgets.filter.value=l.value;this.services.preferences.set(PREFERENCES_MYDOCUMENTS_DASHLET_FILTER,this.widgets.filter.value);this.reloadDataTable()}},onSimpleDetailed:function g(j,k){this.options.simpleView=j.newValue.index===0;this.services.preferences.set(PREFERENCES_MYDOCUMENTS_DASHLET_VIEW,this.options.simpleView);if(j){i.preventDefault(j)}this.reloadDataTable()}})})();